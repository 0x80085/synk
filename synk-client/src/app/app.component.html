<nz-layout class="app-layout">
  <nz-sider class="menu-sidebar" nzCollapsible nzWidth="256px" [(nzCollapsed)]="isCollapsed" [nzTrigger]="null">
    <app-nav-logo (clicked)="isCollapsed = !isCollapsed"  style="margin: 1rem 0;"></app-nav-logo>
    <ul nz-menu nzMode="inline" [nzInlineCollapsed]="isCollapsed">
      <li nz-submenu nzOpen nzTitle="Explore" nzIcon="compass">
        <ul>
          <li nz-menu-item class="item" nzMatchRouter>
            <a routerLink="/home">All Channels</a>
          </li>
        </ul>
      </li>
    </ul>
    <ul nz-menu nzMode="inline" [nzInlineCollapsed]="isCollapsed">
      <li nz-submenu nzOpen nzTitle="Account" nzIcon="user">
        <ul>
          <li nz-menu-item [hidden]="isLoggedIn | async" class="item" nzMatchRouter>
            <a routerLink="/account/login">Login</a>
          </li>
          <li nz-menu-item [hidden]="(isLoggedIn | async) === false" class="item" nzMatchRouter>
            <a routerLink="/account/me">(You)</a>
          </li>
          <li nz-menu-item [hidden]="isLoggedIn | async" class="item" nzMatchRouter>
            <a routerLink="/account/new">Register</a>
          </li>

        </ul>
      </li>
    </ul>
    <ul nz-menu nzMode="inline" [nzInlineCollapsed]="isCollapsed" [hidden]="(isAdmin$ | async) === false">
      <li nz-submenu nzOpen nzTitle="Manage" nzIcon="dashboard">
        <ul>
          <li nz-menu-item class="item" nzMatchRouter>
            <a routerLink="/account/admin"> Admin</a>
          </li>
          <li nz-menu-item class="item" nzMatchRouter>
            <a routerLink="/debug"> Test player</a>
          </li>
        </ul>
      </li>
    </ul>

    <button nz-button nzType="link" routerLink="/about"
      style="position: absolute; bottom: 10px; right:20px;">?</button>
  </nz-sider>
  <nz-layout>
    <nz-content>
      <router-outlet></router-outlet>
    </nz-content>
  </nz-layout>
</nz-layout>

